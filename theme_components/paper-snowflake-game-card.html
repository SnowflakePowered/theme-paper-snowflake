<link rel="import" href="paper-fonts">
<!--<link rel="import" href="../bower_components/paper-shadow/paper-shadow">-->
<link rel="import" href="../bower_components/core-image/core-image">
<link rel="import" href="../bower_components/core-icons/core-icons">
<link rel="import" href="../bower_components/core-icons/av-icons">

<polymer-element name="paper-snowflake-game-card" attributes="game">
  <template>
    <link rel="stylesheet" type="text/css" href="style/paper-snowflake-game-card.css"/>
      <paper-shadow class="card card-container" z="1">
        <div class="card-top card-interior">
          <!--<img class="game-cover" src="http://purenintendo.com/wp-content/uploads/2013/08/wind-waker-box.jpg">-->
          <div fit class="game-overlay" on-click="{{gameShow}}">
            <core-icon class="play-icon" icon="av:play-arrow" on-click="{{gamePlay}}"></core-icon>
          </div>
          <img draggable="false" preload fade fit class="game-cover" src="{{coverFrontUrl}}"></img>
        </div>
        <div class="card-bottom card-interior">
          <div class="card-text">
            <div class="game-title fade-text">
                {{game.Name}}
            </div>
            <div class="game-subtitle fade-text">
            Nintendo
            </div>
          </div>
        </div>
      </paper-shadow>
  </template>
  <script>
    Polymer('paper-snowflake-game-card', {
      ready: function() {

      },
      gameChanged: function() {
        this.coverFrontUrl = "http://localhost:30002/"+this.game.Metadata.snowflake_mediastorekey+"/images/boxart_front";
      },
      gameShow: function () {
        this.fire('game-show', {game: this.game});
      },
      gamePlay: function(e) {
        this.fire('game-play', {game: this.game});
        event.stopPropagation();
      }
    });
  </script>
</polymer-element>
